# On Java 8

## 一、对象的概念

### 抽象

”基于约束“编程

以SmallTalk为代表的”纯粹“的面向对象编程语言的五个特征：

1、万物皆对象

2、程序是一组对象，通过消息传递来告知彼此该做什么

3、每个对象都有自己的存储空间，可容纳其他对象

4、每个对象都有一种类型

5、同一类所有对象都能接受相同的消息

更简洁的描述：对象具有自己的状态、行为和标识

**问题空间到方案空间的映射**

**聚合**和**组合**：聚合中，整件不会拥有部件的生命周期，组合反之

### 多态绑定

编译器的早期绑定和后期绑定

”向上转型“（upcasting）

### 单继承结构

Object

### 集合

为解决从集合中取出元素时“向下转型”的风险和开销问题，我们使用“参数化类型机制”解决方案。



## 三、万物皆对象

### 对象创建

引用用来关联对象

### 数据存储

1、寄存器

2、栈内存：更快，但要知道对象生命周期，牺牲了灵活性

3、堆内存：更灵活，但更慢

4、常量存储

5、非RAM存储

### 对象作用域

Java的重要特性**垃圾收集器**，防止内存泄漏问题（C++中非常棘手的问题）

### 命名可见性

**命名空间**是C++中的重要概念，java的解决方案是为类库生成一个明确的名称，一般是反转后的域名，`.`用来代表子目录的划分。

### static关键字

静态内容不依赖于任何对象实例。



## 六、初始化和清理

### 利用构造器保证初始化

看不到对构造器的显式调用，对象的创建和初始化是统一的。

### 方法重载

方法传入的参数会自动向更大的类型转换。

### this关键字

方法的第一个参数隐式地传入一个指向操作对象的引用。

### 垃圾回收器

一些基本的设计思想：”自适应式“，在各种调度方式之间切换。

JIT技术，将程序部分编译为机器码，可以使用“惰性评估”方式，在必要情况下才编译，同样也是一种适应性的思路。

### 构造器初始化

重要的概念在于初始化发生在什么位置，以及初始化会不会发生。

#### 静态数据初始化

静态数据的初始化只有在必要的时候才进行，若不创建对象，静态数据永远不会被创建，被初始化后，不会再次初始化。



## 七、封装

面向对象设计中的一个基本问题：“如何区分变动的事物和不变的事物”。

### 包的概念

java对命名空间进行**完全**的控制。

每个`.java`文件只能有一个public类。



## 八、复用

### 继承语法

创建`main()`用于测试后，不用删除，因为程序中唯一会被运行的`main()`只有在命令行上调用的。

